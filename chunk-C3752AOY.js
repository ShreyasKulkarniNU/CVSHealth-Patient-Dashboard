import{e as L}from"./chunk-UULDUF7H.js";import{b as N}from"./chunk-DTURDTZQ.js";import{a as A}from"./chunk-LRAPSG5I.js";import{a as z,b as B,c as R}from"./chunk-4QL6TG36.js";import{Ab as I,Da as S,Ha as M,Na as v,Pa as d,Qa as y,Sa as O,Ta as _,Ua as b,Va as n,Wa as i,Ya as E,Z as P,Za as c,_ as C,_a as h,eb as a,fb as m,gb as T,hb as k,ja as p,jb as f,kb as w,lb as x,ua as r,xb as F,ya as g,yb as D}from"./chunk-BSVXXNVH.js";var j=(l,t)=>t.id;function Q(l,t){if(l&1&&(n(0,"option",7),a(1),i()),l&2){let e=t.$implicit;v("value",e),r(),m(e)}}function $(l,t){l&1&&(n(0,"div",15),a(1,"Loading patients..."),i())}function Y(l,t){if(l&1){let e=E();n(0,"tr",19),c("click",function(){let s=P(e).$implicit,u=h(2);return C(u.selectPatient(s))}),n(1,"td")(2,"div",20)(3,"span",21),a(4,"+"),i(),a(5),i()(),n(6,"td"),a(7),i(),n(8,"td"),a(9),i(),n(10,"td"),a(11),f(12,"date"),i(),n(13,"td"),a(14),f(15,"date"),i(),n(16,"td")(17,"span",22),a(18),f(19,"titlecase"),i()()()}if(l&2){let e=t.$implicit;r(5),k(" ",e.firstName," ",e.lastName," "),r(2),m(e.id),r(2),m(e.primaryPhysician),r(2),m(x(12,9,e.lastVisit,"MMM d, yyyy")),r(3),m(x(15,12,e.nextAppointment,"MMM d, yyyy")),r(3),d("active",e.status==="active"),r(),T(" ",w(19,15,e.status)," ")}}function q(l,t){if(l&1&&(n(0,"div",16)(1,"table",17)(2,"thead")(3,"tr")(4,"th"),a(5,"NAME"),i(),n(6,"th"),a(7,"PATIENT ID"),i(),n(8,"th"),a(9,"PRIMARY DOCTOR"),i(),n(10,"th"),a(11,"LAST VISIT"),i(),n(12,"th"),a(13,"NEXT APPOINTMENT"),i(),n(14,"th"),a(15,"STATUS"),i()()(),n(16,"tbody"),_(17,Y,20,17,"tr",18,j),i()()()),l&2){let e=h();r(17),b(e.filteredPatients())}}var V=class l{constructor(t,e,o){this.patientService=t;this.router=e;this.dashboardState=o}patients=p([]);filteredPatients=p([]);loading=p(!1);searchQuery=p("");activeFilter=p("all");doctors=p([]);selectedDoctor=p("");ngOnInit(){this.loadPatients()}loadPatients(){this.loading.set(!0),this.patientService.getPatients().subscribe(t=>{this.patients.set(t),this.filteredPatients.set(t);let e=new Set(t.map(o=>o.primaryPhysician));this.doctors.set(Array.from(e)),this.loading.set(!1)})}onSearch(){let t=this.searchQuery().trim();if(!t){this.loadPatients();return}this.loading.set(!0),this.patientService.searchPatients(t).subscribe(e=>{this.filteredPatients.set(e),this.loading.set(!1)})}onFilterChange(t){this.activeFilter.set(t),this.updateFilteredPatients()}onDoctorFilterChange(t){this.selectedDoctor.set(t),this.updateFilteredPatients()}updateFilteredPatients(){let t=[...this.patients()];this.activeFilter()!=="all"&&(t=t.filter(e=>e.status===this.activeFilter())),this.selectedDoctor()&&(t=t.filter(e=>e.primaryPhysician===this.selectedDoctor())),this.filteredPatients.set(t)}selectPatient(t){this.dashboardState.setSelectedPatient(t),this.router.navigate(["/dashboard"])}addNewPatient(){console.log("Add new patient")}static \u0275fac=function(e){return new(e||l)(g(N),g(L),g(A))};static \u0275cmp=S({type:l,selectors:[["app-patient-list"]],decls:30,vars:10,consts:[[1,"patient-database-page"],[1,"page-header"],[1,"section-title"],[1,"btn-add-patient",3,"click"],[1,"filter-buttons"],[1,"filter-select",3,"change"],["value",""],[3,"value"],[1,"filter-btn"],[1,"search-section"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search by name, ID, or condition",1,"search-input",3,"input","keyup.enter","value"],[1,"filter-tabs"],[1,"filter-tab",3,"click"],[1,"loading"],[1,"table-container"],[1,"patient-table"],[1,"patient-row"],[1,"patient-row",3,"click"],[1,"patient-name"],[1,"patient-icon"],[1,"status-badge"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"PATIENT DATABASE"),i(),n(4,"button",3),c("click",function(){return o.addNewPatient()}),a(5," ADD NEW PATIENT "),i()(),n(6,"div",4)(7,"select",5),c("change",function(u){return o.onDoctorFilterChange(u.target.value)}),n(8,"option",6),a(9,"Filter by Doctor"),i(),_(10,Q,2,2,"option",7,O),i(),n(12,"button",8),a(13,"Filters \u25BC"),i()(),n(14,"div",9)(15,"div",10)(16,"span",11),a(17,"\u{1F50D}"),i(),n(18,"input",12),c("input",function(u){return o.searchQuery.set(u.target.value)})("keyup.enter",function(){return o.onSearch()}),i()()(),n(19,"div",13)(20,"button",14),c("click",function(){return o.onFilterChange("all")}),a(21," All Patients "),i(),n(22,"button",14),c("click",function(){return o.onFilterChange("active")}),a(23," Active "),i(),n(24,"button",14),c("click",function(){return o.onFilterChange("inactive")}),a(25," Inactive "),i(),n(26,"button",14),c("click",function(){return o.onFilterChange("pending")}),a(27," Pending "),i()(),M(28,$,2,0,"div",15)(29,q,19,0,"div",16),i()),e&2&&(r(10),b(o.doctors()),r(8),v("value",o.searchQuery()),r(2),d("active",o.activeFilter()==="all"),r(2),d("active",o.activeFilter()==="active"),r(2),d("active",o.activeFilter()==="inactive"),r(2),d("active",o.activeFilter()==="pending"),r(2),y(o.loading()?28:29))},dependencies:[I,F,D,R,z,B],styles:[".patient-database-page[_ngcontent-%COMP%]{padding:0}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.section-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1a1a1a;margin:0;letter-spacing:1px}.btn-add-patient[_ngcontent-%COMP%]{background:var(--cvs-blue);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-add-patient[_ngcontent-%COMP%]:hover{background:#0088b8;transform:translateY(-2px);box-shadow:0 4px 12px #00a0dd4d}.filter-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px}.filter-select[_ngcontent-%COMP%], .filter-btn[_ngcontent-%COMP%]{padding:10px 16px;border:1px solid #e0e0e0;border-radius:8px;background:#fff;cursor:pointer;font-size:14px}.filter-select[_ngcontent-%COMP%]:hover, .filter-btn[_ngcontent-%COMP%]:hover{border-color:var(--cvs-blue)}.search-section[_ngcontent-%COMP%]{margin-bottom:20px}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;font-size:18px;z-index:1}.search-input[_ngcontent-%COMP%]{width:100%;padding:14px 16px 14px 48px;border:2px solid #e0e0e0;border-radius:8px;font-size:16px;transition:border-color .3s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--cvs-blue)}.filter-tabs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px;border-bottom:2px solid #e0e0e0}.filter-tab[_ngcontent-%COMP%]{padding:12px 24px;border:none;background:transparent;cursor:pointer;font-size:14px;font-weight:600;color:#666;border-bottom:3px solid transparent;transition:all .3s ease}.filter-tab[_ngcontent-%COMP%]:hover{color:var(--cvs-blue)}.filter-tab.active[_ngcontent-%COMP%]{color:var(--cvs-blue);border-bottom-color:var(--cvs-blue)}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;font-size:18px;color:#666}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;overflow:hidden}.patient-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background:#f5f7fa}th[_ngcontent-%COMP%]{padding:16px;text-align:left;font-size:12px;font-weight:700;color:#666;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #e0e0e0}td[_ngcontent-%COMP%]{padding:16px;font-size:14px;color:#1a1a1a;border-bottom:1px solid #e0e0e0}.patient-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.patient-row[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.patient-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600}.patient-icon[_ngcontent-%COMP%]{color:var(--cvs-blue);font-size:18px;font-weight:700}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;background:#e0e0e0;color:#666}.status-badge.active[_ngcontent-%COMP%]{background:#d4edda;color:var(--status-normal)}"]})};export{V as PatientListComponent};
