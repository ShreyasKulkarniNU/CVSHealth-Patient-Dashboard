<div class="dashboard-page">
  @if (loading()) {
    <div class="loading">
      <div class="loading-spinner"></div>
      <p>Loading dashboard...</p>
    </div>
  } @else {
    <!-- KPI Cards -->
    <div class="kpi-grid">
      @for (kpi of kpis(); track kpi.id) {
        <app-kpi-card [kpi]="kpi"></app-kpi-card>
      }
    </div>

    <!-- Charts and Insights Row -->
    <div class="charts-row">
      <!-- Health Charts -->
      <div class="charts-section">
        <app-health-charts [patientId]="selectedPatientId()!"></app-health-charts>
      </div>

      <!-- Quick Insights -->
      <div class="insights-section">
        <app-quick-insights></app-quick-insights>
      </div>
    </div>
  }
</div>



